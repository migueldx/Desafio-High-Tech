<!DOCTYPE html>
<html lang="pt-br">

<head>
     <script src="https://unpkg.com/vue"></script>
    <script src="https://cdn.jsdelivr.net/npm/vue-resource@1.3.4"></script>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="icon" href="../../favicon.ico">
</head>

<body>
    <div id="application">
        <form>
            <h2>Cadastrar Aluno</h2>
            <label>Ra</label>
            <input type="text" id="input-ra" v-model="aluno.ra" placeholder="Ra">
            <br>
            <label>Nome</label>
            <input type="text" id="input-nome" v-model="aluno.nome" placeholder="Nome">
            <button v-on:click="cadastrar">Salvar</button>
        </form>

         <table border="1">
            <thead>
                <tr>
                    <th>RA</th>
                    <th>NOME</th>
                </tr>
            </thead>
            <tbody v-for="aluno in alunos">
                <tr>
                    <td>{{aluno.ra}} </td>
                    <td>{{aluno.nome}}</td>
                </tr>
            </tbody>
        </table>
    </div>
</body>

<script>
    var app = new Vue({
        el: '#application',
        data: {
            aluno: {id: "", ra:"", nome: "" },
            alunos: []
        },
        created: function () {
            this.$http.get("http://localhost:8081/aluno/").then(function (response) {
                this.alunos = response.body;
            }, function (response) {
                console.log("nao funcionou");
            })
        },
        methods: {
            cadastrar: function () {
                this.$http.post("http://localhost:8081/aluno/", this.aluno).then(function (response) {
                    this.alunos.push(response.body);
                }, function (response) {
                    console.log("nao funcionou");
                })
            }
        },
    });

</script>

</html>